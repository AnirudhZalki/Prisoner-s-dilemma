<!DOCTYPE html>
<html>
<head>
  <title>Prisoner's Dilemma Game</title>
</head>
<body>
  <h1>Prisoner's Dilemma</h1>
  <button id="cooperate-button">Cooperate</button>
  <button id="betray-button">Betray</button>
  <button id="stop-button">Stop</button>
  <div id="results"></div>

  <script>
    const resultsDiv = document.getElementById('results');

    const cooperateButton = document.getElementById('cooperate-button');
    cooperateButton.addEventListener('click', () => {
      playRound('C');
    });

    const betrayButton = document.getElementById('betray-button');
    betrayButton.addEventListener('click', () => {
      playRound('B');
    });

    const stopButton = document.getElementById('stop-button');
    stopButton.addEventListener('click', () => {
      stopGame();
    });

    let player1Score = 0;
    let player2Score = 0;
    let roundNumber = 0;

    function playRound(player1Choice) {
      roundNumber++;

      // Simulate the other player's choice randomly.
      const player2Choice = Math.random() < 0.5 ? 'C' : 'B';

      // Calculate the outcomes for each player.
      let player1Outcome;
      let player2Outcome;
      if (player1Choice === 'C') {
        if (player2Choice === 'C') {
          player1Outcome = 3;
          player2Outcome = 3;
        } else {
          player1Outcome = 0;
          player2Outcome = 5;
        }
      } else {
        if (player2Choice === 'C') {
          player1Outcome = 5;
          player2Outcome = 0;
        } else {
          player1Outcome = 1;
          player2Outcome = 1;
        }
      }

      // Update the scores.
      player1Score += player1Outcome;
      player2Score += player2Outcome;

      displayResults(player1Choice, player2Choice, player1Outcome, player2Outcome);
    }

    function stopGame() {
      // Disable the buttons
      cooperateButton.disabled = true;
      betrayButton.disabled = true;
      stopButton.disabled = true;

      // Display "Game Over!"
      resultsDiv.innerHTML += `<p>Game Over!</p>`;

      // Display final results
      displayFinalResults();
    }

    function displayResults(player1Choice, player2Choice, player1Outcome, player2Outcome) {
      const resultText = `Round ${roundNumber}: Player 1 chose ${player1Choice}, Player 2 chose ${player2Choice}. Payoffs - Player 1: ${player1Outcome}, Player 2: ${player2Outcome}`;
      resultsDiv.innerHTML += `<p>${resultText}</p>`;
    }

    function displayFinalResults() {
      const finalResultsText = `Final Scores - Player 1: ${player1Score}, Player 2: ${player2Score}`;
      resultsDiv.innerHTML += `<p>${finalResultsText}</p>`;

      // Determine the winner and display congratulations message
      let winner;
      if (player1Score > player2Score) {
        winner = 'Player 1';
      } else if (player2Score > player1Score) {
        winner = 'Player 2';
      } else {
        winner = 'It\'s a tie!';
      }

      resultsDiv.innerHTML += `<p>Congratulations! ${winner}!</p>`;
    }
  </script>
</body>
</html>




 
   
